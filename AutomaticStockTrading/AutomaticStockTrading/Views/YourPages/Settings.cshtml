@model AutomaticStockTrading.Models.UserModel;
@using AutomaticStockTrading.Services;

@{
    ViewData["Title"] = "Indstillinger";

}

@{
    if (string.IsNullOrEmpty(HttpContextAccessor.HttpContext.Session.GetString("username")))
    {

        <main>
            <section class="vh-100 d-flex align-items-center justify-content-center">
                <div class="container">
                    <div class="row align-items-center ">
                        <div class="col-12 col-lg-5 order-2 order-lg-1 text-center text-lg-left">
                            <h1 class="mt-5">Du er ikke <span class="text-primary">logget</span> ind</h1>
                            <p class="lead my-4">It's always time for a coffee break. We should be back by the time you finish your coffee.</p>
                            <a class="btn btn-dark animate-hover" asp-action="LoginPage" asp-controller="User"><i class="fas fa-chevron-left me-3 ps-2 animate-left-3"></i>Go to login</a>
                        </div>
                        <div class="col-12 col-lg-7 order-1 order-lg-2 text-center d-flex align-items-center justify-content-center">
                            <img class="img-fluid w-75" src="../../assets/img/illustrations/500.svg" alt="500 Server Error">
                        </div>
                    </div>
                </div>
            </section>
        </main>
    }
    else
    {
        <body>

            <main class="content">
                <!-- NOTICE: You can use the _analytics.html partial to include production code specific code & trackers -->

                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center py-4">
                    <div>
                       
                        <div class="dropdown-menu dashboard-dropdown dropdown-menu-start mt-2 py-0">
                            <a class="dropdown-item fw-normal rounded-top" href="#"><span class="far fa-file-alt me-2"></span>Document</a>
                            <a class="dropdown-item fw-normal" href="#"><span class="far fa-comment-dots me-2"></span>Message</a>
                            <a class="dropdown-item fw-normal" href="#"><span class="fas fa-box-open me-2"></span>Product</a>
                            <div role="separator" class="dropdown-divider my-0"></div>
                            <a class="dropdown-item fw-normal rounded-bottom" href="#"><span class="fas fa-rocket text-danger me-2"></span>My Plan</a>
                        </div>
                    </div>

                    <div>
                       
                        <div class="dropdown-menu dashboard-dropdown dropdown-menu-start mt-2 py-0">
                            <a class="dropdown-item fw-normal rounded-top" href="#"><span class="fas fa-box-open"></span>Products</a>
                            <a class="dropdown-item fw-normal" href="#"><span class="fas fa-store"></span>Customers</a>
                            <a class="dropdown-item fw-normal" href="#"><span class="fas fa-cart-arrow-down"></span>Orders</a>
                            <a class="dropdown-item fw-normal" href="#"><span class="fas fa-chart-pie"></span>Console</a>
                            <div role="separator" class="dropdown-divider my-0"></div>
                            <a class="dropdown-item fw-normal rounded-bottom" href="#"><span class="fas fa-rocket text-success"></span>All Reports</a>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 col-xl-8">
                        <div class="card card-body shadow-sm mb-4">
                            <h2 class="h5 mb-4">General information</h2>
                            <form method="post" asp-action="Update" asp-controller="User">
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <div>
                                            <label for="first_name">First name</label>
                                            <input asp-for="surname" class="form-control" id="first_name" type="text" placeholder="@HttpContextAccessor.HttpContext.Session.GetString("surname")">
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <div>
                                            <label for="last_name">Last name</label>
                                            <input asp-for="last_name" class="form-control" id="last_name" type="text" placeholder="@HttpContextAccessor.HttpContext.Session.GetString("lastname")">
                                        </div>
                                    </div>
                                </div>
                                <div class="row align-items-center">
                                    <div class="col-md-6 mb-3">
                                        <label for="birthday">Birthday</label>
                                        <div class="input-group">
                                            <span class="input-group-text"><span class="far fa-calendar-alt"></span></span>
                                            <input asp-for="age" data-datepicker="" class="form-control" id="birthday" type="text" placeholder="@HttpContextAccessor.HttpContext.Session.GetString("age")">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <div class="form-group">
                                            <label for="email">Email</label>
                                            <input asp-for="email" class="form-control" id="email" type="email" placeholder="@HttpContextAccessor.HttpContext.Session.GetString("email")">
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <div class="form-group">
                                            <label for="username">Username</label>
                                            <input asp-for="username" class="form-control" id="username" type="text" placeholder="@HttpContextAccessor.HttpContext.Session.GetString("username")">
                                        </div>
                                    </div>
                                </div>
                                <div class="mt-3">
                                    <button type="submit" class="btn btn-dark">Save All</button>
                                </div>
                            </form>
                        </div>
                        <div class="row">
                            <div class="col-6">
                                <div class="card card-body shadow-sm mb-4">
                                    <h2 class="h5 mb-4">Select profile photo</h2>
                                    <div class="d-flex align-items-center">
                                        <div class="me-3">
                                            <!-- Avatar -->
                                            <div class="user-avatar xl-avatar">
                                                <img class="rounded" src="../assets/img/team/profile-picture-3.jpg" alt="change avatar">
                                            </div>
                                        </div>
                                        <div class="file-field">
                                            <div class="d-flex justify-content-xl-center ms-xl-3">
                                                <div class="d-flex">
                                                    <span class="icon icon-md"><span class="fas fa-paperclip me-3"></span></span> <input type="file">
                                                    <div class="d-md-block text-left">
                                                        <div class="fw-normal text-dark mb-1">Choose Image</div>
                                                        <div class="text-gray small">JPG, GIF or PNG. Max size of 800K</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="card card-body shadow-sm mb-4">
                                    <h2 class="h5 mb-4">Select cover photo</h2>
                                    <div class="d-flex align-items-center">
                                        <div class="me-3">
                                            <!-- Avatar -->
                                            <div class="user-avatar xl-avatar">
                                                <img class="rounded" src="../assets/img/profile-cover.jpg" alt="change cover photo">
                                            </div>
                                        </div>
                                        <div class="file-field">
                                            <div class="d-flex justify-content-xl-center ms-xl-3">
                                                <div class="d-flex">
                                                    <span class="icon icon-md"><span class="fas fa-paperclip me-3"></span></span> <input type="file">
                                                    <div class="d-md-block text-left">
                                                        <div class="fw-normal text-dark mb-1">Choose Image</div>
                                                        <div class="text-gray small">JPG, GIF or PNG. Max size of 800K</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            </div>
                            
                        </div>

                    <div class="col-12 col-xl-4">
                        <div class="row">
                            <div class="col-12 mb-4">
                                <div class="card shadow-sm text-center p-0">
                                    <div class="profile-cover rounded-top" data-background="../assets/img/team/profile-placeholder.png"></div>
                                    <div class="card-body pb-5">
                                        <img src="../assets/img/team/profile-placeholder.png" class="user-avatar large-avatar rounded-circle mx-auto mt-n7 mb-4" alt="Neil Portrait">
                                        <h4 class="h3">@HttpContextAccessor.HttpContext.Session.GetString("surname") @HttpContextAccessor.HttpContext.Session.GetString("lastname")</h4>
                                        <h5 class="fw-normal">Brugernavn: @HttpContextAccessor.HttpContext.Session.GetString("username")</h5>
                                        @{
                                            @inject UserDataService userDateService;
                                            var dateString = HttpContextAccessor.HttpContext.Session.GetString("age");
                                            DateTime oDate = Convert.ToDateTime(dateString);
                                        }

                                        <p class="text-gray mb-4">Alder: @userDateService.GetAge(oDate)</p>

                                        <a class="btn btn-sm btn-dark me-2" href="#"><span class="fas fa-user-plus me-1"></span> Connect</a>
                                        <a class="btn btn-sm btn-secondary" href="#">Send Message</a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="card card-body shadow-sm mb-4 mb-lg-0 col-12">
                            <h2 class="h5 mb-4">Alerts & Notifications</h2>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item d-flex align-items-center justify-content-between px-0 border-bottom">
                                    <div>
                                        <h3 class="h6 mb-1">Company News</h3>
                                        <p class="small pe-4">Get Rocket news, announcements, and product updates</p>
                                    </div>
                                    <div>
                                        <div class="form-check form-switch">
                                            <input class="form-check-input" type="checkbox" id="user-notification-1">
                                            <label class="form-check-label" for="user-notification-1"></label>
                                        </div>
                                    </div>
                                </li>
                                <li class="list-group-item d-flex align-items-center justify-content-between px-0 border-bottom">
                                    <div>
                                        <h3 class="h6 mb-1">Account Activity</h3>
                                        <p class="small pe-4">Get important notifications about you or activity you've missed</p>
                                    </div>
                                    <div>
                                        <div class="form-check form-switch">
                                            <input class="form-check-input" type="checkbox" id="user-notification-2" checked>
                                            <label class="form-check-label" for="user-notification-2"></label>
                                        </div>
                                    </div>
                                </li>
                                <li class="list-group-item d-flex align-items-center justify-content-between px-0">
                                    <div>
                                        <h3 class="h6 mb-1">Meetups Near You</h3>
                                        <p class="small pe-4">Get an email when a Dribbble Meetup is posted close to my location</p>
                                    </div>
                                    <div>
                                        <div class="form-check form-switch">
                                            <input class="form-check-input" type="checkbox" id="user-notification-3" checked>
                                            <label class="form-check-label" for="user-notification-3"></label>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>

                    </div>
</main>

        </body>

                                            }
}

